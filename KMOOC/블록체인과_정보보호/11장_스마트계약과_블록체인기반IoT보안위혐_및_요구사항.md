### 블록체인 보안을 위협하는 5가지 요소
- 블록체인 트랜잭션을 입력할 때 사람의 실수
- 51% 공격
- 블록체인 구현 오류
- 스마트 계약 해킹(2016 DAO 사건)
- 탐지되지 않은 블록체인 취약점 사용

### 비트코인
- 대략 10분에 한 블록이 생성되며 이더리움의 경우 12.4초에 한 블록에 생성됨
- SHA-256 해시 알고리즘 사용
- 비트코인의 단점
  + 튜링 미완전성(WHILE, FOR문 등을 이용할 수 없다)
  + 가치의 불투명성
  + 상태의 단순성: 비트코인은 두 가지 상태(USED, NOT USED)로만 나뉨
  + 검증 시간: 거래 종류에 따라 검증 시간에 대한 판단이 다름


### 이더리움
- 스마트 계약 개념 접목: 기본적인 거래 장부 기록 외 컴퓨팅 기능과 그 기능을 이용하여 프로그램을 실행할 수 있는 환경 제공
- DAO 공격, OPCODE, Computational DDoS 공격 등에 대해 취약
- Blockchain with a built-in Turing-complete programming language   
![image](https://user-images.githubusercontent.com/28378553/126057107-f65015bc-6050-48fe-90ca-7e4934dc8fb6.png)   
- 이더리움의 컴퓨팅 기능
  + Solidity와 Serpent 등과 같은 프로그래밍 언어를 이용하여 프로그램을 구현할 수 있음
  + While문 실행 가능->gas 개념 도입
  + gas: 연산을 쓸 때 이더로 돈을 지불하게 하는 돈(이더)의 양
- 튜링 완전한 컴퓨팅 기능의 장점
  + 이더리움 상에 코드를 신용할 수 있음
  + 한 번 저장된 코드 및 데이터는 거의 영구적으로 남음   
![image](https://user-images.githubusercontent.com/28378553/126057269-29812077-3087-457f-90e1-5f1e078801f7.png)   

### 이더리움의 취약점을 이용한 공격
- DAO 공격: 스마트 계약 코드의 결함 이용
- OPCODE DDOS
  + 모든 연산 부호에 적절한 GAS 비용을 부여하긴 어려움
  + EXTCODESIZE(저렴한 GAS 비용 대비 계산 비용이 큰 연산 부호)로 네트워크 공격->네트워크 마비

### 공통적인 스마트 계약 취약점
- 리엔트란시(Re-entrancy)
  + 특정 기능을 약용해 반복적으로 진입하고 코드의 특정 시점 이전에 원하는 바를 실행함
  + DAO 해킹에서 사용함
- 정수 오버플로 및 언더플로
- 짧은 주소 공격 
  + 트랜잭션 내의 표적 주소가 짧을 때 발생함
  + 정상보다 훨씬 큰 금액에 대해 완벽하게 정당한 송금을 실행할 수 있음
- DoS 공격: 트랜잭션 비용 부풀리기, 트랜잭션 승인을 위해 특정 권한 요구하기, 계약을 무한 루프에 가두기 등
- 기능(계약 내에서 실행 가능한 코드의 단위)에 대한 실수: 기능이 기본적으로 공개되어 있어 누구든 호출 가능함

### 사물인터넷과 블록체인
- 사물인터넷의 보안성을 강화하기 위하여 사물인터넷에 블록체인 활용 시도가 증가함
- 블록체인으로 해결할 수 있는 IoT 보안 기술
  + 권한 관리
  + 서로 다른 장비 간의 식별 기능
  + 데이터 스트림 보안성
  + BUT, 블록체인의 연산 소모, 네트워크 트래픽 다량 요구
![image](https://user-images.githubusercontent.com/28378553/126057603-67072ef2-d53d-44df-952d-46d8339f5225.png)   
![image](https://user-images.githubusercontent.com/28378553/126057621-d580940e-b005-4f6f-8aec-8e27902fa787.png)   

### 블록체인 기반 사물인터넷 동향
- Adept
  + 블록체인을 응용해 사물인터넷 기기가 서로 직접 소통하는 p2p 네트워크 구축 목적
  + 블록체인의 연산 오버헤드 문제 해결 방안 제시
  + IoT 기기의 한정된 자원으로 블록체인 기능을 사용하기 위해 채굴하는 노드와 트랜잭션 생성을 담당하는 노드를 구분 
- IoT-블록체인 실증사업 서비스: 사물인터넷 활성화 기반 조성을 위한 사업 추진
- Horizon: Edge(사물인터넷 기기) insights
  + 깃허브를 통해 오픈소스로 개발된 블록체인 기반 IoT 솔루션
  + 블록체인을 이용해 Edge를 서로 연결하고, Edge에서 수집한 데이터를 분석해서 항공기 추적, 라디오 전파 분석 등의 다양한 분야에서 활용
  
### 블록체인 기반의 IoT 보안 취약점
- 공격자가 블록을 탈취할 경우 손쉽게 사용자에 대한 정보를 얻을 수 있게 됨
- 불안정한 네트워크 환경에 의해 통신을 하여 수신된 값이 정확하다는 보장을 하기 어려움
  + 블록 연결 이후 데이터의 오류를 발견하는 경우, 실수를 되돌리는 것은 불가능함
- IoT 기기의 센서가 측정한 데이터를 확인시 검색 속도가 매우 느림

### 취약점 대응방안
- 블록 암호화
- 데이터의 신뢰성 보장
  + MQTT와 같은 프로토콜 사용을 고려함
  + 데이터를 한 번 검증한 후 블록체인에 저장
- 블록 크기의 확장
  + 블록 크기를 확장할 경우 블록 생성 개수가 감소하여 검색 시간도 단축되어 가용성 문제도 해결 가능
  + 세그윗(segwit)을 이용하여 검색 속도 증가
  + segwit: 블록의 트랜잭션에 존재하는 전자서명을 위한 공간을 제거하여 한 블록에 더 많은 트랜잭션을 저장할 수 있도록 하는 기술
- 기술의 표준화
