### 블록체인 보안위협
- 기존 위협 요소
  + 키 관리: 탈취된 개인키는 암호화된 데이터에 대한 무단 복호화에 사용->탐지가 현실적으로 어려움
  + 암호학: 난수 생성기의 문제(무차별 공격에 취약할 수 있다)
  + 프라이버시: "잊혀질 권리", 블록체인의 근본적인 문제
  + 코드리뷰: 알려지지 않은 취약점 존재 가능성이 있음

- 블록체인 기술의 세부 위협
  + 합의 하이재킹: 51% 공격
  + 사이드체인
    - 사이드 체인: 블록체인 상에서 서로 다른 별개의 자산이라든지 신규 자산 발행, 거래 등을 위해서 사용되는 핵심 기술
    - 사이드체인의 취약점은 체인 간에 자산과 메시지를 전송하는데 사용되는 게이트웨이에 있음
  + 개인 블록체인의 악용: 컨트롤 타워의 영향력을 통해 악의적인 행위가 가능
  + DDoS
    - 분산 구조의 특성으로 해당 악성 프로그램을 전부 방어하는 것은 현실적으로 어려움
    - 분산 원장의 특성에서 나오는 DDoS 공격은 강력한 위협
  + 지갑 관리
  + 스마트 계약 관리   
    - 소프트웨어로서 코드와 관련된 결함 발생 가능성이 높음
    - 스마트 계약이 복잡할수록 소프트웨어 오류 발생 가능성이 높음
  + 거버넌스 통제
  + 부정거래 및 자금세탁: 불법 활동에 대처할 수 있는 도구가 부족함

### 구현 측면에서의 블록체인 대응방안
- 개인키 보안을 위한 구현 측면의 대응방안
  + 하드웨어 장치를 이용한 대응방법(비용이 높다)
    - HSM(Hardware Security Module): 하드웨어 안에 암호 프로세스를 내장시켜 그 안에 개인키를 저장하고, 전자서명 등 기밀성을 요구하는 정보를 생성할 때 보안으로 둘러쌓여있는 장치 안에서 생성하고 보관
    - TPM(Trusted Platform Module): 부팅시에 항상 무결성 검증
  + SW기술을 이용한 대응방법
    - 다중인증: 개인키+다른 인증 방법(OTP, 생체인증, SMS)
    - 다중서명: N개의 개인키 중 M개의 서명이 있어야만 인증이 가능하도록 함
- 가용성을 위한 구현 측면의 대응방안
  + 참여자 검증을 통한 거래 검증 및 합의 보안
    - 노드에 대해 다중인증 또는 기기 정보 등록->추적 가능
    - RBAC와 같은 접근통제를 활용하여 역할을 할당하고 권한을 제어
  + 거래 수수료를 활용한 가용성 보존
    - 프로그램 코드를 실행시 실행 코드 볼륨에 비례하여 제한을 둠
    - 이더리움의 GAS(거래 수수료)
- 개인정보보호를 위한 구현 측면의 대응방안
  + 일부 중앙화를 통한 개인정보보호의 구현
  + 거래 암호화와 거래 정보 삭제를 통한 개인정보보호의 구현: 거래정보와 개인정보를 분리한 별도의 채널 구성
  + 관리적 보안 정책을 활용한 개인정보보호의 구현: 개인정보가 포함된 거래정보의 보관 기간에 대한 관리적 정책 마련
- 상호운영성을 고려한 구현 측면의 대응방안
  + Pegged 사이드 체인 기술
  + 표준화

### 블록체인 보안구조
- 해싱
  + 일방향성, 충돌 회피성
  + plain text->hash function->hashed text
  + 작업 증명의 핵심 암호 프리머티브
  + 약한 충돌 회피성: 주어진 값이랑 같은 해시 값을 갖는 다른 입력 값을 찾을 수 없는 것
  + 강한 충돌 회피성: 어떤 출력 값이든 해시 값이든 상관 없이 같은 해시 값을 갖는 두 입력 값을 찾을 수 없는 것
- 트랜잭션: 자산 또는 가치의 이동을 기록   
![image](https://user-images.githubusercontent.com/28378553/126045860-e86ba055-81ae-4dec-9029-6b210b53ae3a.png)   
- 디지털 서명
  + 정보의 부인방지와 자산 출처를 입증하는 기능을 제공하는 암호 프리머티브
  + 블록체인에서 자산 또는 가상화폐의 소유를 증명하기 위해 사용
  + RSA, ECDSA(디지털 시그니처 알고리즘)

### 블록체인 동작   
![image](https://user-images.githubusercontent.com/28378553/126046965-c5ad9736-acd8-47bb-a096-672cfd168a93.png)
- 채굴: 적절한 넌스 값을 계산한다. 비트코인은 10분에 하나씩 생성될 수 있도록 거래의 난이도를 조정해 놓음. 거래 검증의 난이도를 조정할 수 있는 게 해시 값에 대한 넌스 값을 찾는 것. 출력 값의 일정 부분을 정해놓고 그 부분에 적당한 넌스 값을 찾는 게 채굴(작업 증명)
- 넌스는 해시의 입력 값이 된다.

### 합의 기법
- 합의: 블록체인에 부가될 다음 블록을 결정하는 네트워크 상 노드 간에 수행되는 과정
- PoW(작업증명): 공개 블록체인에서 많이 사용   
![image](https://user-images.githubusercontent.com/28378553/126056185-7d5ab7b2-313c-4058-8f7b-2de2c85b5530.png)
- PoS(지분증명): 지분을 많이 가진 사람이 그 네트워크를 손상시킬 위험이 덜하다   
![image](https://user-images.githubusercontent.com/28378553/126056190-1ff4c3bc-c9ce-4803-8f8c-4383eeddaba1.png)
- PBET(실무 비잔틴 장애 내성)
- DPOS(대리 지분 증명)   
![image](https://user-images.githubusercontent.com/28378553/126056201-4a4ac057-f209-494f-93ec-209fdd77bf54.png)   
![image](https://user-images.githubusercontent.com/28378553/126056210-cc8c918c-30a6-4f5b-9a0e-d982b75c483b.png)

### 지갑
- 개인키와 공개키, 노드 주소, 소유하는 자산 상태 등의 자산을 안전하게 저장하는 소프트웨어

### 스마트 계약
- 블록체인에 배포되는 코드 및 데이터 모음
- 블록체인에 저장되어 있는 코드가 특정 조건이 충족될 때 블록체인을 관리하는 노드에 의해 실행됨

### 포크
- 블록체인 소프트웨어 및 구현 방식 변경
- 블록체인 상의 소프트웨어의 결함이나 문제점이 발견되었을 때 업데이트하는 방식
- 소프트 포크/하드 포크
- 소프트 포크: 변경을 채택하지 않은 사용자가 변경된 블록체인 시스템을 사용하는 것을 완전히 막지 않는 방법
- 하드 포크: 변경된 블록체인 시스템을 사용하지 않는 이용자를 완전히 차단하는 방법
- 블록체인 응용에 이용되는 암호화 알고리즘에 결함이 발견되면 하드 포크가 요구됨

### 블록체인의 특성
- 분산화
- 불변성
- 익명성
- 추적성

### 블록체인 프라이버시 이슈
- 블록체인은 노드의 익명성은 보장하나, 하나의 주소에 대한 여러 트랜잭션을 연결할 수 있기 때문에 트랜잭션 익명성은 보장하지 않음
- 블록체인에 저장된 데이터는 벼조될 수 없기 때문에 블록에 저장된 개인정보는 삭제될 수 없음
- 블록체인은 분산 시스템이므로 데이터에 대한 통제권ㅇ르 상실할 수 있음
- 스마트 계약은 자동화된 의사결정으로 간주될 수 있음
- 대응 방안
  + 블록체인에 개인정보 저장 금지
  + 비식별화 개인정보 저장
  + 데이터 암호화
  + 참조 방법으로 외부 데이터베이스에 암호화된 개인정보 저장
  + 자동화된 의사 결정에 대하 이의 제기
  + 
