### 테스트 자동화의 중요성
- 전통적인 소프트웨어 테스트: 애플리케이션을 테스트 환경에 배포 후 사용자 인터페이스 또는 UI를 클릭해서 문제를 찾는 수동적인 방식
- 반복적인 테스트 자동화
  + 쉬운 코드 베이스 변경
  + 지속적인 전달 방식의 빌드 파이프라인 사용
  + 소프트웨어를 자동으로 테스트 후 테스트 및 운영 환경에 배포 가능
  -> 자동화로 혁신을 가속화시킴
  
### 테스트의 종류
- 블랙 박스 테스트: 요구사항/명세서대로 소프트웨어가 동작하는지에 초점에 맞추어진 테스트(소프트웨어 컴포넌트나 시스템의 내부 구조를 참조하지 X)
- 화이트 박스 테스트: 구현된 소스 코드 내부 구조를 분석하여 미리 정의된 오류를 찾아내는 테스트
- V-모델   
![image](https://user-images.githubusercontent.com/28378553/125659990-632f011d-8e88-450e-99b7-3ea72feeaa16.png)
- 테스팅 사분면   
![image](https://user-images.githubusercontent.com/28378553/125660302-c15787ff-383d-4010-9d08-cce6d8b91faa.png)   
  + 테스트 주도 개발 영역(TDD): 프로그래머가 자신의 코드를 잘 설계하도록 돕는 데 목적
  + 2사분면: 개발팀의 작업 지원, 높은 수준의 인수 테스팅 영역, Agile의 Product Owner 주도 외부적 품질과 특징 정의
  + 1, 2사분면의 자동화된 테스트: 빠른 피드백 제공, 새로운 코드의 도입으로 인한 예상하지 못한 버그를 예방하는 안전망 역할을 한다
  + 3, 4사분면: 제품을 평가하는 테스트
  + 3사분면: 소프트웨어가 기대에 만족하는지 알기 위해 동작하는 소프트웨어를 사용해보는 고객 주도의 비즈니스 중심 탐색 테스팅 영역
  + 4사분면: 기술 중심 테스트, 성능/보안과 같은 제품 특징을 평가하는 속성 테스팅 영역
- 테스트 피라미드   
![image](https://user-images.githubusercontent.com/28378553/125662326-b805af2a-9e59-418b-939b-53fc1a025a9d.png)

### SW 개발/테스트 프로세스
- TDD, BDD: TDD는 아키텍쳐와 코드 로직에, BDD는 비즈니스 요구사항에 좀 더 집중

### 단위 테스트(Unit Test)
- 가능한 소프트웨어의 가장 작은 부분을 실행하여 예상대로 작동하는지 확인
- 개발자 또는 개발팀이 직접 수행하여 코딩한 메서드나 클래스의 기능이 제대로 작동하는지 점검
- 단위 테스트를 잘하기 위한 고려사항   
![image](https://user-images.githubusercontent.com/28378553/125664000-e76ea938-d245-4d85-bf10-f55dddd60e1f.png)   
- 독립 단위 테스트: 테스트 객체와 의존성이 있는 부분을 Test Doubles 등의 기능으로 대체하여 테스트
- 연동 단위 테스트: 객체 상태 변화를 관찰하여 모듈의 동작을 테스트하는데 초점을 맞춤, 연관 모듈은 인터페이스를 통해 완전히 테스트된 블랙박스로 취급

### 단위 테스트 방식
- 도메인 로직: 복잡한 계산을 하거나 상태가 전이되는 등 합쳐진 형태. 단위를 분리하는 것은 큰 의미가 없으므로 가능한 테스트 대상과 연관된 도메인 객체들을 함께 테스트하는 것이 좋다.   
![image](https://user-images.githubusercontent.com/28378553/125665083-827a1b2e-9089-462e-91cb-61c371ba21c5.png)
- 모듈 연동 코드 사용시 테스트 중인 유닛을 외부 모듈과 분리 후 상태 변경을 테스트하는 것이 어렵기 때문에 테스트 더블 같은 기능 사용이 효과적
- 테스트의 주목적
  + 요청 생성 또는 외부 종속성의 응답 매핑에 사용된 모든 로직을 확인
  + 외부 의존적인 부분을 테스트 더블로 대체
 - 코디네이션 로직
  + 모듈 내에서 전달되는 메시지를 중요하게 다룸
  + 테스트 더블을 통해 전달된 메시지의 세부 내용을 검증하고 모듈에서 통신 응답을 스텁화할 수 있음
 - 단위 테스트ㅇ는 단위의 동작을 제한하고 시스템 동작에 대한 보장을 제공하지 않으므로 보다 큰 범위의 테스트를 반드시 필요로 한다

### 테스트 더블
- 테스트시 실제 객체 대신 할 수 있는 객체
- 테스트 대상 코드와 협력 객체를 분리해서 테스트하기 때문에 테스트 작성시 테스트 대상 코드와 상호작용하는 객체
- 종속 관계에 있는 컴포넌트가 완성되지 않거나 그 컴포넌트에 오류가 있는 경우 가상의 테스트용 클래스와 메서드 구현->목업 클래스   
![image](https://user-images.githubusercontent.com/28378553/125711622-70abb0c0-6457-42ad-97d5-90138e88433d.png)   
![image](https://user-images.githubusercontent.com/28378553/125711662-cc051a92-c678-46f3-9524-35641d59fb46.png)
- 일반적인 테스트 더블은 상태에 중점, 목 객체는 행위에 중점

### JUnit
- 단위 테스트 작성을 지원하는 xUnit(단위 테스트 작성을 지원하는 여러 언어별 오픈소스 프레임워크) 계열의 오픈소스 자바 프레임워크
 
### Assertions
- 특정 조건이 충족되는 경우에만 테스트를 실행하는 데 사용
- 테스트가 제대로 실행되는 데 필요한 외부 조건이지만, 테스트중인 항목과 직접 관련이 없는 경우에 사용
- Assumption을 선언하고, 실패할 경우 TestAbortedException을 Throw하고 테스트를 건너뜀

### Dynamic Tests
- 런타임에 생성된 테스트 케이스를 선언하고 실행 가능
- 동적 테스트를 통해 런타임에서 동적으로 테스트 케이스 정의 가능

### 서비스 테스트
- 사용자 인터페이스를 우회하여 서비스들을 직접 테스트하는 것
- 통합 테스트
  + 구성 요소간의 네트워크 경로 및 상호 작용을 검증하여 인터페이스 연동 성공과 오류 경로를 다루는 것
  + 통합 코드 계층과 통합할 외부 구성 요소간의 상호 작용을 검증하는 데 사용
  + Gateway 통합 테스트
    - 프로토콜 수준의 정밀 테스트
    - 테스트시 특정 데이터가 필요하기 때문에 테스트를 진행하면서 상태 관리가 어려움
    - 테스트 세트 준비 필요
  + DB 관련 테스트: 코드의 스키마와 DB 스키마간 일치 여부 확인
  + 구성 요소 테스트(Component Test)
    - Component: 전체 시스템 중 캡슐화되어 일관적이고 독립적으로 교체 가능한 일부분
    - 시스템을 조작, 테스트 더블을 사용하여 테스트중인 코드를 다른 구성 요소와 분리 가능
    - 테스트 실행 시간을 획기적으로 단축, 빌드 복잡성 줄임
  
### End to end Test
- 시스템이 외부 요구 사항을 충족시키고 전체 시스템을 끝까지 테스트하여 목표를 달성하는지 확인
- 시스템이 전체적으로 비즈니스 목표를 충족하는지 확인
- 블랙박스 시스템 취급
- UI 테스트
  + 엔드투엔드 테스트의 일종으로 시스템 전체를 대상으로 수행하는 테스트
  + 브라우저를 사용해 GUI를 접하고, 실제 환경과 비슷한 테스트를 진행
  + 테스트 범위가 넓고 원인 분석이 난해하여 마이크로서비스 환경에서는 테스트하기 힘듬
  + Selenium WebDriver: 사용자 인터페이스 기반 테스트 자동화 도구
 - API 테스팅: UI가 아닌 비즈니스 레이어를 통해 테스트
 - GUI 테스팅: UI를 통해 프레젠테이션 레이어를 통해 테스트
 - Swagger
  + RESTful API를 설계, 구축, 문서화하는 전체 라이프사이클에 도움이 되는 도구
  + REST API로부터 API 문서를 자동 생성
  + 제품 관리자, 개발자, 테스트간 공유 문서로 활용
 - POSTMAN
  + 개발자와 동일한 언어를 사용하는 통합 개발환경에서 API 테스트할 때 적합
  + 사용하기 쉬운 REST 클라이언트와 직관적인 인터페이스가 장점
 - JMeter
  + 웹 어플리케이션의 부하/성능 테스트에 적합한 오픈소스 도구
  + 플러그인 기반 아키텍처로 프로토콜 계층에서 작동
  + 크로스 플랫폼 지원

### SUMMARY
- 단위 테스트: 응용 프로그램에서 테스트 가능한 가장 작은 코드 베이스를 사용하여 예상대로 작동하는지 확인
- 통합 테스트: 컴포넌트간 연동 및 상호 작용을 검증하여 인터페이스 결함을 찾음
- 구성 요소 테스트: 테스트 더블을 사용해 테스트중인 코드를 다른 구성요소와 분리하여 실행되는 소프트웨어의 범위를 제한하여 테스트하는 것
- 계약 테스트: 서비스 간 경계에서 기대치를 만족하는지 검증하기 위해 테스트
- 엔드-투-엔드 테스트: 시스템의 요구 사항 및 목표 충족 여부를 검증하기 위해 전체 시스템을 대상으로 종단 간 테스트
- ![image](https://user-images.githubusercontent.com/28378553/125714788-6ab4495c-1c2c-460d-a651-f8437a5db9ef.png)
- ![image](https://user-images.githubusercontent.com/28378553/125714808-e592d0e0-b447-4ed1-a994-b2ca1331afb0.png)




